<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</h:head>
<h:body>
	<h:form>
		<p:tabMenu activeIndex="2">
		    <p:menuitem value="Materiel" action="materiel?faces-redirect=true">
		        <f:param name="i" value="0" />
		    </p:menuitem>
		    <p:menuitem value="Etudiant" action="etudiant?faces-redirect=true">
		        <f:param name="i" value="1" />
		    </p:menuitem>
		    <p:menuitem value="Examen" action="examen?faces-redirect=true">
		        <f:param name="i" value="2" />
		    </p:menuitem>
		    <p:menuitem value="Sessions" action="sessions?faces-redirect=true">
		        <f:param name="i" value="3" />
		    </p:menuitem>
		    <p:menuitem value="Salle" action="salle?faces-redirect=true">
		        <f:param name="i" value="4" />
		    </p:menuitem>
		    <p:menuitem value="Module" action="module?faces-redirect=true">
		        <f:param name="i" value="5" />
		    </p:menuitem>
		</p:tabMenu>
	</h:form>


 <h1><h:outputText value="Ajout d'un examen" /></h1>
		<br/><br/>
		
		<h:form id="form">
			<p:accordionPanel style="width:600px;">
			<p:messages autoUpdate="true"/>
				<p:tab title="Ajout d'un examen">
					<table>
					<tr>
							<td style="width:300px;padding-bottom:10px;"><h:outputText value="Nom de l'examen :" /></td>
							<td style="width:300px;padding-bottom:10px;"><p:inputText id="nomExamen" value="#{examenBean.e.nomExamen}" /></td>
						</tr>
						<tr>
							<td style="width: 300px; padding-bottom: 10px;"><h:outputText
									value="Date de l'examen :" /></td>
							<td style="width: 300px; padding-bottom: 10px;"><p:calendar
									value="#{examenBean.e.dateExamen}"
									mindate="2010-01-01"
									locale="de" navigator="true" pattern="yyyy-MM-dd" /></td>
						</tr>
						<tr>
						<td style="width:300px;padding-bottom:10px;"><h:outputLabel for="number" value="Note:"
							style="font-weight:bold" /></td>
						<td style="width:300px;padding-bottom:10px;"><p:inputText id="number" value="#{examenBean.e.noteExamen}"
							label="Number">
							<f:validateDoubleRange minimum="0" maximum="20" />
						</p:inputText></td>
						<p:message for="number" />
						<h:outputText value="" />
					</tr>
						 <tr>
							<td style="width:300px;padding-bottom:10px;"><h:outputText value="idEtudiant :" /></td>
							<td style="width:300px;padding-bottom:10px;"><p:inputText id="idEtu" value="#{examenBean.idEtu}" /></td>
						</tr> 
						<tr>
							<td style="width:300px;padding-top:15px;">
								<div align="center">
									
									<p:commandButton value="Ajouter"  action="#{examenBean.addE()}" ajax="true" update="form listexamen" icon="ui-icon-check" validateClient="true" style="margin-right:10px"/>
								</div>
							</td>
							<td style="width:300px;padding-top:15px;">
								<div align="center">
									<p:commandButton type="reset" value="Rétablir" />
								</div>
							</td>
						</tr>
					</table>
				</p:tab>
			</p:accordionPanel>
			</h:form>
			<div align="center">
				<p:dataTable  id="listexamen" var="v" value="#{examenBean.getlistE()}">
				<p:column style="width:50px;">
						<f:facet name="header">
							<h:outputText value="ID" />
						</f:facet>
						<h:outputText value="#{v.idExamen}" />
					</p:column>
					<p:column style="width:150px;">
						<f:facet name="header">
							<h:outputText value="nomExamen" />
						</f:facet>
						<h:outputText value="#{v.nomExamen}" />
					</p:column>
					
					<p:column style="width:50px;">
						<f:facet name="header">
							<h:outputText value="Date de l'examen" />
						</f:facet>
						<h:outputText value="#{v.dateExamen}" />
					</p:column>
					
					<p:column style="width:150px;">
						<f:facet name="header">
							<h:outputText value="note" />
						</f:facet>
						<h:outputText value="#{v.noteExamen}" />
					</p:column>
					<p:column style="width:150px;">
						<f:facet name="header">
							<h:outputText value="idEtudiant" />
						</f:facet>
						<h:outputText value="#{v.etudiant.idEtudiant}" />
					</p:column>
					
					<p:column headerText="Update" style="width:150px;">
			<p:commandButton value="Update" ajax="true" process="@this" action="uexamen?faces-redirect=true"  actionListener="#{examenBean.getE(v.idExamen)}" />
		</p:column>
					<p:column headerText="Delete" style="width:150px;">
			<p:commandButton value="Enlever" action="#{examenBean.suppE()}" ajax="true" process="@this" update="listexamen">
				<f:setPropertyActionListener target="#{examenBean.idExamen}" value="#{v.idExamen}" process="@this" />
			</p:commandButton>
		</p:column>
					
				</p:dataTable>
			</div>

			
</h:body>
</html>