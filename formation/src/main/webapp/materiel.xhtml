<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Materiel</title>
</h:head>
<h:body>

	<h:form id="form">
		<p:accordionPanel style="width:600px;">
			<p:tab title="Ajout d'un materiel">
				<table>
					<tr>
						<td style="width: 300px; padding-bottom: 10px;"><h:outputText
								value="Nom :" /></td>
						<td style="width: 300px; padding-bottom: 10px;"><p:inputText
								id="nomMateriel" value="#{materielBean.materiel.nomMateriel}">
								<f:validateLength minimum="3" />
							</p:inputText></td>
					</tr>
					<tr>
						<td style="width: 300px; padding-bottom: 10px;"><h:outputText
								value="Etat :" /></td>
						<td style="width: 300px; padding-bottom: 10px;"><p:selectOneMenu
								id="etatMateriel" value="#{materielBean.materiel.etatMateriel}"
								style="width:125px">
								<f:selectItem itemLabel="Choisissez un etat" itemValue=""
									noSelectionOption="true" />
								<f:selectItem itemLabel="Excelent" itemValue="Excelent" />
								<f:selectItem itemLabel="Bon" itemValue="Bon" />
								<f:selectItem itemLabel="Passable" itemValue="Passable" />
								<f:selectItem itemLabel="Usée" itemValue="Usée" />
								<f:selectItem itemLabel="Inutilisable" itemValue="Inutilisable" />
							</p:selectOneMenu></td>
					</tr>
					<tr>
						<td style="width: 300px; padding-top: 15px;">
							<div align="center">
								<p:commandButton value="Ajouter"
									actionListener="#{materielBean.add()}" update="listMateriel" ajax="true" />
							</div>
						</td>
						<td style="width: 300px; padding-top: 15px;">
							<div align="center">
								<p:commandButton type="reset" value="Rétablir" />
							</div>
						</td>
					</tr>
				</table>
			</p:tab>
		</p:accordionPanel>
	</h:form>

	<p:dataTable id="listMateriel" var="mt" value="#{materielBean.getList()}" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							 paginator="true" rows="10" style="width:910px;margin-bottom:20px;">
		<p:column headerText="Id">
			<h:outputText value="#{mt.idMateriel}" />
		</p:column>

		<p:column headerText="Nom">
			<h:outputText value="#{mt.nomMateriel}" />
		</p:column>

		<p:column headerText="Etat">
			<h:outputText value="#{mt.etatMateriel}" />
		</p:column>
		<p:column headerText="Update">
			<p:commandButton value="Update" ajax="true" process="@this" action="umateriel?faces-redirect=true"  actionListener="#{materielBean.getMat(mt.idMateriel)}" />
		</p:column>
		<p:column headerText="Delete">
			<p:commandButton value="Enlever" action="#{materielBean.delete()}" ajax="true" process="@this" update="listMateriel">
				<f:setPropertyActionListener target="#{materielBean.idMateriel}" value="#{mt.idMateriel}" process="@this" />
			</p:commandButton>
		</p:column>
	</p:dataTable>



</h:body>
</html>