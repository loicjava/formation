<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</h:head>
<h:body>
 <h1><h:outputText value="Ajout d'un module" /></h1>
		<br/><br/>
		
		<h:form id="form">
			<p:accordionPanel style="width:600px;">
				<p:tab title="Ajout d'un module">
					<table>
					<tr>
							<td style="width:300px;padding-bottom:10px;"><h:outputText value="Nom :" /></td>
							<td style="width:300px;padding-bottom:10px;"><p:inputText id="adresseSalle" value="#{moduleBean.module.nomModule}" /></td>
						</tr>
						<tr>
							<td style="width:300px;padding-bottom:10px;"><h:outputText value="Duree du module en jours :" /></td>
							<td style="width:300px;padding-bottom:10px;"><p:inputText id="nomSalle" value="#{moduleBean.module.dureeModule}" /></td>
						</tr>
						<tr>
							<td style="width:300px;padding-bottom:10px;"><h:outputText value="Description :" /></td>
							<td style="width:300px;padding-bottom:10px;"><p:inputText id="capaciteSalle" value="#{moduleBean.module.description}" /></td>
						</tr>
						<tr>
							<td style="width:300px;padding-top:15px;">
								<div align="center">
									<p:commandButton value="Ajouter" action="#{moduleBean.addM()}" ajax="true" />
								</div>
							</td>
							<td style="width:300px;padding-top:15px;">
								<div align="center">
									<p:commandButton type="reset" value="Rétablir" />
								</div>
							</td>
						</tr>
					</table>
				</p:tab>
			</p:accordionPanel>
			</h:form>
			
<div align="center">
				<p:dataTable  id="listmodule" var="v" value="#{moduleBean.getModules()}">
				<p:column style="width:50px;">
						<f:facet name="header">
							<h:outputText value="ID" />
						</f:facet>
						<h:outputText value="#{v.idModule}" />
					</p:column>
					<p:column style="width:150px;">
						<f:facet name="header">
							<h:outputText value="nom" />
						</f:facet>
						<h:outputText value="#{v.nomModule}" />
					</p:column>
					
					<p:column style="width:50px;">
						<f:facet name="header">
							<h:outputText value="duree du module" />
						</f:facet>
						<h:outputText value="#{v.dureeModule}" />
					</p:column>
					
					<p:column style="width:150px;">
						<f:facet name="header">
							<h:outputText value="description" />
						</f:facet>
						<h:outputText value="#{v.description}" />
					</p:column>
					
					
					<p:column headerText="Update">
			<p:commandButton value="Update" ajax="true" process="@this" action="umodule?faces-redirect=true"  actionListener="#{moduleBean.getM(v.idModule)}" />
		</p:column>
					<p:column headerText="Delete">
			<p:commandButton value="Enlever" action="#{moduleBean.suppM()}" ajax="true" process="@this" update="listmodule">
				<f:setPropertyActionListener target="#{moduleBean.idModule}" value="#{v.idModule}" process="@this" />
			</p:commandButton>
		</p:column>
					
				</p:dataTable>
			</div>
			
</h:body>
</html>